import{g as a,o as d,c,a as i}from"./entry.ba740c69.js";function l(r){const e=s=>r(s.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function u(){const r=new Set;let e=[];const s=()=>l(t=>{e.some(({info:o})=>o.uuid===t.info.uuid)||(e=[...e,t],r.forEach(o=>o(e,{added:[t]})))});let n=s();return{_listeners(){return r},clear(){r.forEach(t=>t([],{removed:[...e]})),e=[]},destroy(){this.clear(),r.clear(),n()},findProvider({rdns:t}){return e.find(o=>o.info.rdns===t)},getProviders(){return e},reset(){this.clear(),n(),n=s()},subscribe(t,{emitImmediately:o}={}){return r.add(t),o&&t(e,{added:e}),()=>r.delete(t)}}}const v=i("h1",null,"EIP-6963 Test",-1),f={class:"flex flex-col space-y-10"},w=a({__name:"test",setup(r){async function e(s){console.log({rdns:s});const o=await u().findProvider({rdns:s}).provider.request({method:"eth_requestAccounts"});console.log({accounts:o}),alert(JSON.stringify(o))}return(s,n)=>(d(),c("div",null,[v,i("div",f,[i("button",{onClick:n[0]||(n[0]=t=>e("io.metamask"))},"Metamask"),i("button",{onClick:n[1]||(n[1]=t=>e("com.coinbase.wallet"))}," Coinbase "),i("button",{onClick:n[2]||(n[2]=t=>e("com.okex.wallet"))},"OKX")])]))}});export{w as default};
