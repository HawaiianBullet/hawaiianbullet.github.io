import{g as m,o as s,c as l,a as n,F as w,r as k,n as T,t as _,p as $,f as C,_ as v,h as g,w as p,b as d,u as c,i as h,e as z,j as L,k as P}from"./entry.b0577f91.js";import R from"./ContentRenderer.2154c427.js";import{u as V}from"./vue.f36acd1f.944b0a84.js";import{u as q,q as y}from"./query.9667bb77.js";import"./ContentRendererMarkdown.vue.2c5ca97c.js";import"./index.288f722b.js";import"./preview.30699755.js";const A=t=>($("data-v-649e1905"),t=t(),C(),t),D={class:"toc"},F=A(()=>n("header",{class:"toc-header"},[n("h3",{class:"text-xl font-bold"},"Table of contents")],-1)),M={class:"toc-links"},j=["href"],E=m({__name:"Toc",props:["links"],setup(t){const o=r=>{let a=r.map(e=>{let i=[e];if(e.children){let u=o(e.children);i=[e,...u]}return i}).flat(1);return console.log({_links:a}),a};return(r,a)=>(s(),l("nav",D,[F,n("ul",M,[(s(!0),l(w,null,k(o(t.links),e=>(s(),l("li",{key:e.id,class:T(`toc-link _${e.depth}`)},[n("a",{href:`#${e.id}`},_(e.text),9,j)],2))),128))])]))}});const O=v(E,[["__scopeId","data-v-649e1905"]]);function G(t,o){return s(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M11.03 3.97a.75.75 0 010 1.06l-6.22 6.22H21a.75.75 0 010 1.5H4.81l6.22 6.22a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z","clip-rule":"evenodd"})])}function J(t,o){return s(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M12.97 3.97a.75.75 0 011.06 0l7.5 7.5a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 11-1.06-1.06l6.22-6.22H3a.75.75 0 010-1.5h16.19l-6.22-6.22a.75.75 0 010-1.06z","clip-rule":"evenodd"})])}const K={class:"prev-next-cont"},Q={class:"link-item prev"},U={class:"link-item next"},W=m({__name:"PrevNext",props:["prev","next"],setup(t){return(o,r)=>{const a=z;return s(),l("ul",K,[n("li",Q,[t.prev?(s(),g(a,{key:0,to:t.prev._path},{default:p(()=>[d(c(G),{class:"icon stroke"}),n("span",null,_(t.prev.title),1)]),_:1},8,["to"])):h("",!0)]),n("li",U,[t.next?(s(),g(a,{key:0,to:t.next._path},{default:p(()=>[n("span",null,_(t.next.title),1),d(c(J),{class:"icon stroke"})]),_:1},8,["to"])):h("",!0)])])}}});const X=v(W,[["__scopeId","data-v-66bb7ca6"]]),b=t=>($("data-v-e4f4290f"),t=t(),C(),t),Y={id:"main",class:"article-main"},Z={key:0,class:"article-header"},ee={class:"heading"},te={class:"supporting"},ne={class:"article-tags"},se=b(()=>n("hr",null,null,-1)),oe={class:"article-section"},ae={class:"aside"},ce={class:"article"},le=b(()=>n("p",null,"No content found.",-1)),re=m({__name:"[...slug]",async setup(t){let o,r;const{path:a}=L(),{data:e}=([o,r]=P(async()=>q(`content-${a}`,async()=>{let f=y().where({_path:a}).findOne(),x=y().only(["_path","title","description"]).sort({date:1}).findSurround(a);return{article:await f,surround:await x}})),o=await o,r(),o),[i,u]=e.value.surround;return console.log({data:e,prev:i,next:u}),V({title:e.value.article.title,meta:[{name:"description",content:e.value.article.description},{hid:"og:image",property:"og:image",content:`https://site.com/${e.value.article.img}`}]}),(f,x)=>{const N=O,I=R,B=X;return s(),l("main",Y,[c(e).article?(s(),l("header",Z,[n("h1",ee,_(c(e).article.title),1),n("p",te,_(c(e).article.description),1),n("ul",ne,[(s(!0),l(w,null,k(c(e).article.tags,(S,H)=>(s(),l("li",{class:"tag",key:H},_(S),1))),128))])])):h("",!0),se,n("section",oe,[n("aside",ae,[d(N,{links:c(e).article.body.toc.links},null,8,["links"])]),n("article",ce,[d(I,{value:c(e).article},{empty:p(()=>[le]),_:1},8,["value"])])]),d(B,{prev:c(i),next:c(u)},null,8,["prev","next"])])}}});const ve=v(re,[["__scopeId","data-v-e4f4290f"]]);export{ve as default};
